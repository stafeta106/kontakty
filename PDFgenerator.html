<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>Gener√°tor PDF soubor≈Ø pro dotazy podle 106/1999</title>
  <style>
    /* jednoduch√© CSS pro v√Ωsledky */
    #results { border: 1px solid #ccc; max-width: 400px; }
    .result-item { padding: 4px; cursor: pointer; }
    .result-item:hover { background-color: #eee; }
    #detail { margin-top: 10px; }


    body { font-family: Arial, sans-serif; margin: 20px; }
    #suggestions { 
        border: 1px solid #ccc; 
        max-width: 400px; 
        display: none; 
        list-style: none; 
        padding: 0; 
        margin: 0; 
        position: absolute; 
        background: #fff; 
        z-index: 1000; 
    }
    #suggestions li { padding: 5px; cursor: pointer; }
    #suggestions li:hover { background-color: #f0f0f0; }
    .info { 
        margin-top: 15px; 
        padding: 10px; 
        border: 1px solid #ccc; 
        border-radius: 5px; 
        font-family: Arial, sans-serif; 
        font-size: 14px;
        white-space: pre-line; /* zachov√° \n jako nov√© ≈ô√°dky */
    }
    #input-container { position: relative; max-width: 400px; }
    
    .editor-wrapper {
  max-width: 600px;
  font-family: system-ui, sans-serif;
}

/* Toolbar */
.toolbar {
  display: flex;
  gap: 6px;
  padding: 6px;
  border: 1px solid #ccc;
  border-bottom: none;
  border-radius: 6px 6px 0 0;
  background: #f7f7f7;
}

.toolbar button {
  padding: 4px 8px;
  font-size: 14px;
  border: 1px solid #bbb;
  background: #fff;
  border-radius: 4px;
  cursor: pointer;
}

.toolbar button:hover {
  background: #eee;
}

.toolbar button:active {
  background: #ddd;
}

/* Editor */
#editor {
  min-height: 200px;   /* ‚¨Ö minimum size */
  height: auto;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 0 0 6px 6px;
  overflow: auto;
  outline: none;
}


  </style>
</head>
<body>

  <h1>1. Vyhled√°v√°n√≠ povinn√Ωch subjekt≈Ø</h1>
  Zde napi≈° n√°zev subjektu üëâ <input id="search" type="text" placeholder="Zaƒçni ps√°t n√°zev subjektu‚Ä¶" />
  <div id="results"></div>
  <div id="detail"></div>

  <script src="app.js"></script>

<h1>2. Text dotazu</h1>
Sem zkop√≠ruj text dotazu<br>
<div class="editor-wrapper">
  <div class="toolbar">
    <button type="button" data-cmd="bold"><b>B</b></button>
    <button type="button" data-cmd="italic"><i>I</i></button>
    <button type="button" data-cmd="underline"><u>U</u></button>
  </div>

  <div id="editor" contenteditable="true" spellcheck="true"></div>
</div>
 Jm√©no a p≈ô√≠jmen√≠ üëâ <input id="jmeno" type="text"/><br>
 Datum narozen√≠ üëâ <input id="narozeni" type="text"/><br>
 Adresa trval√©ho bydli≈°tƒõ üëâ <input id="adresa" type="text"/><br>
<button onclick="makePDF()">Ulo≈æ jako PDF</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script>

const editor = document.getElementById("editor");

document.querySelectorAll(".toolbar button").forEach(btn => {
  btn.addEventListener("click", () => {
    const cmd = btn.dataset.cmd;
    editor.focus();
    document.execCommand(cmd, false, null);
  });
});

function makePDF() {

const detail = document.getElementById("detail");
//const element = document.getElementById("editor");

// 1. Create temp container
const container = document.createElement("div");
container.style.width = editor.offsetWidth + "px";

// 2. Clone detail FIRST
const detailClone = detail.cloneNode(true);
container.appendChild(detailClone);

// Optional spacing
detailClone.style.marginBottom = "20px";

// 1. Clone editor
//editor.style.height = "auto";
  const editorClone = editor.cloneNode(true);

  // 2. Expand it so all content is visible
//  clone.style.height = "auto";
//  clone.style.maxHeight = "none";
//  clone.style.overflow = "visible";

  // Optional: match width exactly
//  clone.style.width = editor.offsetWidth + "px";

  // 3. Hide off-screen
//  clone.style.position = "absolute";
//  clone.style.left = "-99999px";
//  clone.style.top = "0";

//  document.body.appendChild(clone);
// 3b. Clone element SECOND
//const cloneClone = clone.cloneNode(true);
container.appendChild(editorClone);

const   jmeno = document.getElementById("jmeno");
container.appendChild(jmeno);

const   narozeni = document.getElementById("narozeni");  
container.appendChild(narozeni);


const   adresa = document.getElementById("adresa");  
container.appendChild(adresa);

//const jmenoClone

// 4. Generate PDF
html2pdf()
  .set({
    margin: 15,
    filename: 'document.pdf',
    html2canvas: { scale: 2 },
    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
  })
  .from(container)
  .save();
}
</script>


</body>
