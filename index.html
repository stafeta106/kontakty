<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Kontakty ministerstev</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    #suggestions { 
        border: 1px solid #ccc; 
        max-width: 400px; 
        display: none; 
        list-style: none; 
        padding: 0; 
        margin: 0; 
        position: absolute; 
        background: #fff; 
        z-index: 1000; 
    }
    #suggestions li { padding: 5px; cursor: pointer; }
    #suggestions li:hover { background-color: #f0f0f0; }
    .info { 
        margin-top: 15px; 
        padding: 10px; 
        border: 1px solid #ccc; 
        border-radius: 5px; 
        font-family: Arial, sans-serif; 
        font-size: 14px;
        white-space: pre-line; /* zachová \n jako nové řádky */
    }
    #input-container { position: relative; max-width: 400px; }
</style>
</head>
<body>

<h1>Kontakty ministerstev</h1>

<div id="input-container">
    <label for="ministerstvoInput">Vyberte ministerstvo:</label><br>
    <input type="text" id="ministerstvoInput" placeholder="Začněte psát..." autocomplete="off" style="width:100%; padding:5px; font-family: Arial, sans-serif;">
    <ul id="suggestions"></ul>
</div>

<div id="info" class="info" style="display:none;"></div>

<script>
// Data ministerstev
const ministerstva = {
    "MV": { name: "Ministerstvo vnitra", address: "Nad Štolou 3\n170 34 Praha 7", id: "6bnaawp" },
    "MF": { name: "Ministerstvo financí", address: "Letenská 525/15\n118 10 Praha 1", id: "xzeaauv" },
    "MD": { name: "Ministerstvo dopravy", address: "Nábřeží Ludvíka Svobody 1222/12\n110 15 Praha 1", id: "n75aau3" },
    "MMR": { name: "Ministerstvo pro místní rozvoj", address: "Staroměstské náměstí 6\n110 00 Praha 1", id: "26iaava" },
    "MZV": { name: "Ministerstvo zahraničních věcí", address: "Loretánské náměstí 101/5\n118 00 Praha 1", id: "e4xaaxh" },
    "MPS": { name: "Ministerstvo práce a sociálních věcí", address: "Na Poříčním právu 376/1\n128 00 Praha 2", id: "sc9aavg" },
    "MS": { name: "Ministerstvo spravedlnosti", address: "Vyšehradská 16\n128 10 Praha 2", id: "kq4aawz" },
    "MK": { name: "Ministerstvo kultury", address: "Maltézské náměstí 1\n118 11 Praha 1", id: "8spaaur" },
    "MZ": { name: "Ministerstvo zdravotnictví", address: "Palackého náměstí 375/4\n128 00 Praha 2", id: "pv8aaxd" },
    "MZP": { name: "Ministerstvo životního prostředí", address: "Vršovická 1442/65\n100 10 Praha 10", id: "9gsaax4" },
    "MZe": { name: "Ministerstvo zemědělství", address: "Těšnov 65/17\n117 05 Praha 1", id: "yphaax8" },
    "MPO": { name: "Ministerstvo průmyslu a obchodu", address: "Na Františku 32\n110 15 Praha 1", id: "bxtaaw4" },
    "MSMT": { name: "Ministerstvo školství, mládeže a tělovýchovy", address: "Karmelitská 7\n118 12 Praha 1", id: "vidaawt" }
};

// Pole pro autocomplete
const ministerstvaArray = Object.keys(ministerstva).map(k => ({ key: k, name: ministerstva[k].name }));

const input = document.getElementById('ministerstvoInput');
const suggestions = document.getElementById('suggestions');
const infoDiv = document.getElementById('info');

// Odstranění diakritiky
function removeDiacritics(str) {
    return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
}

// Autocomplete
input.addEventListener('input', () => {
    const value = removeDiacritics(input.value.toLowerCase());
    suggestions.innerHTML = '';

    if (!value) {
        suggestions.style.display = 'none';
        return;
    }

    const matches = ministerstvaArray.filter(m => removeDiacritics(m.name.toLowerCase()).includes(value));

    matches.forEach(m => {
        const li = document.createElement('li');
        li.textContent = m.name;
        li.addEventListener('click', () => {
            input.value = m.name;
            suggestions.style.display = 'none';

            const selected = ministerstva[m.key];
	     infoDiv.innerHTML = `<strong>${selected.name}</strong><br>${selected.address.replace(/\n/g,'<br>')}<br>ID datové schránky: ${selected.id}`; 
            //infoDiv.textContent = `${selected.name}\n${selected.address}\nID datové schránky: ${selected.id}`;
            infoDiv.style.display = 'block';
        });
        suggestions.appendChild(li);
    });

    suggestions.style.display = matches.length ? 'block' : 'none';
});

// Skrýt návrhy při kliknutí mimo
document.addEventListener('click', (e) => {
    if (!document.getElementById('input-container').contains(e.target)) {
        suggestions.style.display = 'none';
    }
});
</script>

</body>
</html>
